<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <title>Inicio</title>
  </head>

  <header class="bg-white shadow-md sticky top-0 z-50">
    <div class="container mx-auto px-4 py-3 flex items-center justify-between">
      <a href="/" class="text-xl font-bold text-blue-500 hover:text-blue-700">
        <span class="text-gray-800">Factus</span>
        <span class="text-blue-500">App</span>
      </a>
      <div class="flex items-center space-x-4">
        <a href="#" class="hover:text-blue-500">
          <svg class="w-6 h-6 fill-current text-gray-600" viewBox="0 0 24 24">
            <path
              fill="currentColor"
              d="M22.46 6c-.77.67-1.65 1.13-2.66 1.35a4.896 4.896 0 0 0 2.14-2.69c-.95.56-2 1-3.1 1.24a4.867 4.867 0 0 0-8.29 4.42c-3.22-.16-6.06-1.7-7.96-4.03a4.834 4.834 0 0 0-.66 2.47c0 1.69.87 3.18 2.15 4.07a4.808 4.808 0 0 1-2.18-.61v.06c0 2.36 1.7 4.33 3.95 4.79a4.869 4.869 0 0 1-2.22.08c.63 1.95 2.44 3.37 4.6 3.42a9.745 9.745 0 0 1-6.05 2.1c-.37 0-.74-.02-1.1-.07C8.07 21.78 12.14 23 16.5 23c6 0 9.83-5 9.83-9.11c0-.14 0-.27-.08-.41a6.93 6.93 0 0 0 1.75-1.86z"
            />
          </svg>
        </a>
        <a href="#" class="hover:text-blue-700">
          <svg class="w-6 h-6 fill-current text-gray-600" viewBox="0 0 24 24">
            <path
              fill="currentColor"
              d="M22 12c0 5.52-4.48 10-10 10S2 17.52 2 12 6.48 2 12 2s10 4.48 10 10zm-3 0h-3v-4h3V4h-4v3h-3v4h3v4h4v-3z"
            />
          </svg>
        </a>
        <a href="#" class="hover:text-red-500">
          <svg class="w-6 h-6 fill-current text-gray-600" viewBox="0 0 24 24">
            <path
              fill="currentColor"
              d="M21.82 7.43c-.24-.86-.93-1.55-1.79-1.79C19.2 5.38 12 5.38 12 5.38s-7.2 0-8.03.26c-.86.24-1.55.93-1.79 1.79C2.62 8.2 2.62 12 2.62 12s0 3.8.26 4.61c.24.86.93 1.55 1.79 1.79C4.8 18.62 12 18.62 12 18.62s7.2 0 8.03-.26c.86-.24 1.55-.93 1.79-1.79C21.38 15.8 21.38 12 21.38 12s0-3.8-.26-4.61zM10 16.5v-9l6 4.5-6 4.5z"
            />
          </svg>
        </a>
      </div>
    </div>
  </header>

  <body>
    <main class="bg-gray-50 py-20">
      <div
        class="container mx-auto px-4 flex items-center justify-center md:justify-between"
      >
        <div class="w-full md:w-1/2">
          <img
            src="./src/img/disenoux.webp"
            alt="Sistema de Facturación Electrónica"
            class="rounded-lg shadow-md"
          />
        </div>
        <div class="flex text-center md:grid md:grid-cols-1">
          <h5 class="text-xl font-semibold text-blue-500 mb-2">
            Genera tu Factura con Factus
          </h5>
          <p class="text-gray-600 leading-relaxed max-w-md mx-auto m-4">
            El sistema de facturación electrónica diseñado para simplificar tu
            proceso de facturación en la Dian.
          </p>
          <form id="generarFactura">
            <button type="submit" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-full text-lg shadow-lg transition duration-300 ease-in-out">
              Generar Factura
              <span id="spinner" class="ml-2 hidden">
                <i class="fas fa-spinner fa-spin"></i>
              </span>
            </button>
          </form>
          
        </div>
      </div>
    </main>

    <script>
      document.getElementById('generarFactura').addEventListener('submit', function(e) {
          e.preventDefault();
          
          // Obtener valores del formulario
          const username = "sandbox@factus.com.co";
          const password = "sandbox2024%";
          
          document.getElementById('spinner').classList.remove('hidden');

          // Configurar headers
          const myHeaders = new Headers();
          myHeaders.append("Accept", "application/json");
          
          // Configurar formdata
          const formdata = new FormData();
          formdata.append("grant_type", "password");
          formdata.append("client_id", "9de7fa7f-1e0e-4384-a879-4d3f314eb2d8"); // Aquí debes agregar tu client_id
          formdata.append("client_secret", "0Vt17b8wsK8an6UV0FNqsTw4BXjP2P2q0Ek8RzrL"); // Aquí debes agregar tu client_secret
          formdata.append("username", username);
          formdata.append("password", password);
          
          // Opciones de la petición
          const requestOptions = {
              method: "POST",
              headers: myHeaders,
              body: formdata,
              redirect: "follow"
          };
          
          // Realizar petición
          fetch("https://api-sandbox.factus.com.co/oauth/token", requestOptions)
              .then((response) => {
                  if (!response.ok) {
                      throw new Error('Credenciales incorrectas');
                  }
                  return response.json();
              })
              .then((result) => {
                  // Guardar token en localStorage
                  localStorage.setItem('authToken', result.access_token);
                  
                  // Redirigir al dashboard o página principal
                  window.location.href = 'board.html';
              })
              .catch((error) => {
                  console.error(error);
                  
                  // Mostrar mensaje de error
                  document.getElementById('errorText').textContent = 'Usuario o contraseña incorrectos. Por favor, intente nuevamente.';
                  document.getElementById('errorMessage').classList.remove('hidden');
                  
                  // Restaurar botón
                  document.getElementById('spinner').classList.add('hidden');
                  document.getElementById('buttonText').textContent = 'Iniciar Sesión';
                  document.getElementById('loginButton').disabled = false;
              });
      });
  </script>
  </body>

  <footer class="bg-gray-100 py-8 text-center text-sm text-gray-500">
    <div class="max-w-screen-xl mx-auto px-4">
      <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
        <div>
          <h6 class="font-semibold text-gray-700 mb-2">Contacto</h6>
          <p>Email: chrisurpineda@gmail.com</p>
          <p>Teléfono: +52 (55) 1234 5678</p>
          <p>Dirección: Villa #123, Colonia Centro, Ciudad de México</p>
        </div>
        <div>
          <h6 class="font-semibold text-gray-700 mb-2">Enlaces Útiles</h6>
          <ul class="list-none p-0">
            <li>
              <a href="/terminos-y-condiciones" class="hover:text-gray-700"
                >Términos y Condiciones</a
              >
            </li>
            <li>
              <a href="/politica-de-privacidad" class="hover:text-gray-700"
                >Política de Privacidad</a
              >
            </li>
            <li>
              <a href="/ayuda" class="hover:text-gray-700">Ayuda y Soporte</a>
            </li>
            <li>
              <a href="/api/documentacion" class="hover:text-gray-700"
                >Documentación API</a
              >
            </li>
          </ul>
        </div>
        <div>
          <h6 class="font-semibold text-gray-700 mb-2">Síguenos</h6>
          <div class="flex justify-center space-x-4">
            <a href="#" class="hover:text-blue-500"
              ><svg class="w-5 h-5 fill-current" viewBox="0 0 24 24">
                <path
                  fill="currentColor"
                  d="M22.46 6c-.77.67-1.65 1.13-2.66 1.35a4.896 4.896 0 0 0 2.14-2.69c-.95.56-2 1-3.1 1.24a4.867 4.867 0 0 0-8.29 4.42c-3.22-.16-6.06-1.7-7.96-4.03a4.834 4.834 0 0 0-.66 2.47c0 1.69.87 3.18 2.15 4.07a4.808 4.808 0 0 1-2.18-.61v.06c0 2.36 1.7 4.33 3.95 4.79a4.869 4.869 0 0 1-2.22.08c.63 1.95 2.44 3.37 4.6 3.42a9.745 9.745 0 0 1-6.05 2.1c-.37 0-.74-.02-1.1-.07C8.07 21.78 12.14 23 16.5 23c6 0 9.83-5 9.83-9.11c0-.14 0-.27-.08-.41a6.93 6.93 0 0 0 1.75-1.86z"
                /></svg
            ></a>
            <a href="#" class="hover:text-blue-700"
              ><svg class="w-5 h-5 fill-current" viewBox="0 0 24 24">
                <path
                  fill="currentColor"
                  d="M22 12c0 5.52-4.48 10-10 10S2 17.52 2 12 6.48 2 12 2s10 4.48 10 10zm-3 0h-3v-4h3V4h-4v3h-3v4h3v4h4v-3z"
                /></svg
            ></a>
            <a href="#" class="hover:text-red-500"
              ><svg class="w-5 h-5 fill-current" viewBox="0 0 24 24">
                <path
                  fill="currentColor"
                  d="M21.82 7.43c-.24-.86-.93-1.55-1.79-1.79C19.2 5.38 12 5.38 12 5.38s-7.2 0-8.03.26c-.86.24-1.55.93-1.79 1.79C2.62 8.2 2.62 12 2.62 12s0 3.8.26 4.61c.24.86.93 1.55 1.79 1.79C4.8 18.62 12 18.62 12 18.62s7.2 0 8.03-.26c.86-.24 1.55-.93 1.79-1.79C21.38 15.8 21.38 12 21.38 12s0-3.8-.26-4.61zM10 16.5v-9l6 4.5-6 4.5z"
                /></svg
            ></a>
          </div>
        </div>
      </div>
      <div class="mt-8 border-t border-gray-200 pt-4">
        <p>
          &copy; 2025 Sistema de Facturación Electrónica. Todos los derechos
          reservados.
        </p>
      </div>
    </div>
  </footer>
</html>
